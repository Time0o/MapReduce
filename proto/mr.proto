syntax = "proto3";

package mr;

message Empty {}

message WorkerConfig {
  int32 id = 1;
}

message WorkerInfo {
  int32 id = 1;
}

message WorkerCommand {
  enum Kind {
    IDLE = 0;
    MAP = 1;
    REDUCE = 2;
    QUIT = 3;
  }

  Kind kind = 1;

  optional string file = 2;
}

service Master {
  rpc GetConfig(Empty) returns (WorkerConfig);
  rpc GetCommand(WorkerInfo) returns (WorkerCommand);
}
